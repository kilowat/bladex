# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ —Å Bitrix

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π:

```
project-root/
‚îú‚îÄ‚îÄ public/             # –ü—É–±–ª–∏—á–Ω–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å Bitrix
‚îÇ   ‚îî‚îÄ‚îÄ index.php
‚îú‚îÄ‚îÄ myapp/              # –í–∞—à–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–º
‚îÇ   ‚îú‚îÄ‚îÄ composer.json
‚îÇ   ‚îî‚îÄ‚îÄ routes_inc.php
```

---

## üîß –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞

–°–∫–∞—á–∞–π—Ç–µ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ **–≤–Ω–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `public/`**, —á—Ç–æ–±—ã –æ—Ç–¥–µ–ª–∏—Ç—å –ø—É–±–ª–∏—á–Ω—ã–µ –∏ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ —Ñ–∞–π–ª—ã. –ù–∞–ø—Ä–∏–º–µ—Ä:

```bash
git clone https://github.com/kilowat/bladex
```

---

## üì¶ –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ `composer.json`

–í `myapp/composer.json` —É–∫–∞–∂–∏—Ç–µ –ø—É—Ç—å –¥–æ `bitrix/composer-bx.json`, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:

```json
"extra": {
  "merge-plugin": {
    "require": [
      "../public/bitrix/composer-bx.json"
    ]
  }
}

```
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```bash
cd myapp
composer install
```

## üß© –®–∞–≥ 3: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ Bitrix

### 1. `public/index.php`

–£–±—Ä–∞—Ç—å –≤–µ—Å—å –∫–æ–¥ –∏–∑ —Ñ–∞–π–ª–∞ –∏ –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–æ—É—Ç–∏–Ω–≥–∞:

```php
include_once($_SERVER['DOCUMENT_ROOT'] . '/bitrix/modules/main/include/routing_index.php');
```

### 2. `bitrix/.settings.php`

–î–æ–±–∞–≤—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Ä–æ—É—Ç–∏–Ω–≥–∞:

```php
'routing' => ['value' => [
    'config' => ['myapp.php']
]],
```

### 3. `bitrix/routes/myapp.php`

–ü—Ä–æ–ø–∏—à–∏—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –≤–∞—à–∏—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤:

```php
return include '../myapp/routes_inc.php';
```

---

## üñº –®–∞–≥ 4: –ü—Ä–æ–±—Ä–æ—Å –∞—Å—Å–µ—Ç–æ–≤

–°–æ–∑–¥–∞–π—Ç–µ —Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫—É—é —Å—Å—ã–ª–∫—É –¥–ª—è –∞—Å—Å–µ—Ç–æ–≤ –≤–æ –≤–Ω–µ—à–Ω–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:

```bash
ln -s /var/www/myapp/assets /var/www/bitrix/public/assets
```

–¢–µ–ø–µ—Ä—å –∞—Å—Å–µ—Ç—ã –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã –∏–∑ –ø—É–±–ª–∏—á–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø–æ –ø—É—Ç–∏ `/assets`.

---

## üê≥ BitrixDoc –∏–∑ –∫–æ—Ä–æ–±–∫–∏ –∏ Docker

–ß—Ç–æ–±—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞–ª–æ –≤ BitrixDoc:

### 1. –ü—Ä–æ–±—Ä–æ—Å volume –≤ `docker-compose.yml`

```yaml
services:
  php:
    volumes:
      - ./www/myapp:/var/www/myapp

  nginx:
    volumes:
      - ./www/myapp:/var/www/myapp
```

### 2. –û–±—Ä–∞–±–æ—Ç–∫–∞ 404 –≤ Bitrixdoc

–í —Ñ–∞–π–ª–µ `public/404.php` –¥–æ–±–∞–≤—å—Ç–µ:

```php
include_once($_SERVER['DOCUMENT_ROOT'] . '/bitrix/modules/main/include/routing_index.php');
```